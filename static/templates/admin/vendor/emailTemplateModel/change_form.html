{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}{{ block.super }}
<script type="text/javascript" src="{% url 'admin:jsi18n' %}"></script>
{{ media }}
{% endblock %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}">{% endblock %}

{% block coltype %}colM{% endblock %}

{% block bodyclass %}{{ block.super }} app-{{ opts.app_label }} model-{{ opts.model_name }} change-form{% endblock %}

{% if not is_popup %}
{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
&rsaquo; {% if has_view_permission %}<a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>{% else %}{{ opts.verbose_name_plural|capfirst }}{% endif %}
&rsaquo; {% if add %}{% blocktrans with name=opts.verbose_name %}Add {{ name }}{% endblocktrans %}{% else %}{{ original|truncatewords:"18" }}{% endif %}
</div>
{% endblock %}
{% endif %}

{% block content %}<div id="content-main">
{% block object-tools %}
{% if change %}{% if not is_popup %}
  <ul class="object-tools">
    {% block object-tools-items %}
      {% change_form_object_tools %}
    {% endblock %}
  </ul>
{% endif %}{% endif %}
{% endblock %}

    <style>
    .predefined_values{ margin:5px 0px 5px 171px; width:621px;}
    .predefined_values label{}
.predefined_values a{
background-color: #777;
    display:inline-block;
    padding:3px;
    margin-bottom: 3px;
    font-size:88%;

    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25em;


}
</style>

<form {% if has_file_field %}enctype="multipart/form-data" {% endif %}action="{{ form_url }}" method="post" id="{{ opts.model_name }}_form" novalidate>{% csrf_token %}{% block form_top %}{% endblock %}
<div class="aligned">
    <div class="form-row field-template_name">
                <div>
                    <label class="required" for="id_template_name">Template name:</label>
                    <input type="text" name="template_name" class="vTextField" maxlength="255" required id="id_template_name">
                </div>

        </div>

        <div class="form-row field-subject">
                <div>
                    <label class="required" for="id_subject">Subject:</label>
                    <input type="text" name="subject" class="vTextField" maxlength="255" required id="id_subject">
                </div>

        </div>

        <div class="form-row field-body">
                <div>
                    <label class="required" for="id_body">Body:</label>
                    <textarea name="body" cols="40" rows="10" class="vLargeTextField" required id="id_body"></textarea>
                   <div class="predefined_values">

                           Predefined Values:
                        {% for field in fields %}
                         <a href="#click" class="label label-default"  onclick="getTag('{{field}}')" >{{field}}</a>
                        {% endfor %}
                         <!--<a href="#click" class="label label-default"  onclick="getTag('contact_person_first_name')" >contact_person_first_name</a>
                         <a href="#click" class="label label-default"  onclick="getTag('contact_person_last_name')" >contact_person_last_name</a>
                         <a href="#click" class="label label-default"  onclick="getTag('designation')" >designation</a>
                         <a href="#click" class="label label-default"  onclick="getTag('primary_email')" >primary_email</a>
                         <a href="#click" class="label label-default"  onclick="getTag('alternate_email')" >alternate_email</a>
                         <a href="#click" class="label label-default"  onclick="getTag('phone_number')" >phone_number</a>
                         <a href="#click" class="label label-default"  onclick="getTag('company_name')" >company_name</a>
                         <a href="#click" class="label label-default"  onclick="getTag('company_address')" >company_address</a>
                         <a href="#click" class="label label-default"  onclick="getTag('specialised_in')" >specialised_in</a>
                         <a href="#click" class="label label-default"  onclick="getTag('about_company')" >about_company</a>
                         <a href="#click" class="label label-default"  onclick="getTag('created_at')" >created_at</a>-->

                   </div>


                </div>

        </div>

        <div class="form-row field-signature">
                <div>
                    <label class="required" for="id_signature">Signature:</label>
                    <textarea name="signature" cols="40" rows="10" class="vLargeTextField" required id="id_signature">
</textarea>
                </div>

        </div>
</div>
<div class = "submit-row">
    <input type="submit" value="Save" class="default" name="_save">
    <input type="submit" value="Save and add another" name="_addanother">
    <input type="submit" value="Save and continue editing" name="_continue">

</div>
</form></div>

<script type="text/javascript">
    function getTag(text){
          //alert(text);
          var area = document.getElementById("id_body").value;
          var area = area + "{" +  text + "}";
          document.getElementById("id_body").value = area;
      }
</script>


{% endblock %}
